<%- include('includes/head.ejs') %>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
</head>
<body>
    <div class="container">
        <div class="title-container">
            <h1>Employees from the database <button onclick="location.href='/getAddEmployee';" style="text-align:right">Add employee</button></h1>
            <br>
        </div>
    <% if (data.length > 0) { %>    
        <div class="table-container">
            <table id="dataTable" class="display" style="width:100%">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Position</td>
                        <td>Office</td>
                        <td>Age</td>
                        <td>Start date</td>
                        <td>Salary</td>
                    </tr>
                </thead>
                <tbody>
                    <% for(let i=0; i< data.length; i++) { %>
                    <tr>
                       <td><%= data[i].name  %></td> 
                       <td><%= data[i].position %></td>
                       <td><%= data[i].office %></td>
                       <td><%= data[i].age %></td>
                       <td><%= data[i].start_date %></td>
                       <td><%= data[i].salary %></td>
                       <form action="/deleteEmployee" method="POST">
                        <input type="hidden" value="<%= data[i]._id %>" name="employeeId">
                        <td><button class="btn" type="submit">Delete</button></td>
                       </form>
                    </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
        <% } else { %>
        <h1>No employees here...</h1>
        <% } %>    
        </div>


<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
<script src="app/main.js"></script>
<%- include('includes/end.ejs') %>